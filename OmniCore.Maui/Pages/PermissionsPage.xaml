<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:models="clr-namespace:OmniCore.Maui.Models"
             x:Class="OmniCore.Maui.Pages.PermissionsPage"
             x:DataType="models:PermissionsModel">
    <CollectionView ItemsSource="{Binding DynamicPermissions}">
        <CollectionView.Resources>
            <Color x:Key="TrueColor">#309930</Color>
            <Color x:Key="FalseColor">#E04040</Color>
            <toolkit:BoolToObjectConverter x:Key="IsGrantedConverter" 
                                           TrueObject="{StaticResource TrueColor}" 
                                           FalseObject="{StaticResource FalseColor}"/>
        </CollectionView.Resources>
        <CollectionView.ItemTemplate>
            <DataTemplate x:DataType="models:DynamicPermission">
                <Label Text="{Binding ShortName}"
                       TextColor="{Binding IsGranted, Converter={StaticResource IsGrantedConverter}}"/>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentPage>